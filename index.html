<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WFRP ‚Äì Gestionnaire de combat</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lora&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="MJ.css" />
</head>
<body>
  <header class="topbar">
    <div class="wrap">
      <h1>‚öîÔ∏è WFRP ‚Äì Gestionnaire</h1>
      <div class="spacer"></div>
      <nav class="tabs" role="tablist" aria-label="Sections">
        <button class="tab is-active" data-tab="reserve" aria-selected="true">R√©serve</button>
        <button class="tab" data-tab="combat" aria-selected="false">Combat</button>
        <button class="tab" data-tab="rules" aria-selected="false">R√®gles</button>
      </nav>
      <button id="btn-version" class="ghost small" style="margin-left:10px; opacity:0.6;">v?</button>
    </div>
  </header>

  <main class="wrap">
    <section id="panel-reserve" class="panel is-active" role="region" aria-labelledby="tab-reserve">
      <h2>R√©serve (source de v√©rit√©)</h2>
      <div class="grid-2">
        <form id="form-add" class="card">
          <input type="hidden" name="id" value="">
          <h3 id="form-title">Nouveau profil</h3>
          
          <div class="grid-2" style="margin-bottom:10px;">
            <label>Nom<input name="name" placeholder="Saskia la Noire" required></label>
            <label>Type<select name="kind"><option value="PJ">PJ</option><option value="Cr√©ature">Cr√©ature</option></select></label>
          </div>

          <div class="grid-3" style="margin-bottom:10px;">
            <label>Initiative (I)<input type="number" name="initiative" value="30" title="Utilis√© pour l'ordre du tour"></label>
            <label>PV (Max)<input type="number" name="hp" value="12"></label>
            <label style="color:#5a1d1d; font-weight:bold;">Endurance (E)<input type="number" name="E" value="30" title="D√©termine le Bonus d'Endurance (BE)"></label>
          </div>

          <div class="armor-section" style="margin-top: 10px; padding: 10px; background: rgba(0,0,0,0.05); border-radius: 6px;">
            <span class="muted" style="font-size: 0.9em; font-weight: bold;">Points d'Armure</span>
            <div class="grid-4" style="margin-top: 6px;">
              <label>T√™te<input type="number" name="armor_head" value="0"></label>
              <label>Corps<input type="number" name="armor_body" value="0"></label>
              <label>Bras<input type="number" name="armor_arms" value="0"></label>
              <label>Jambes<input type="number" name="armor_legs" value="0"></label>
            </div>
          </div>

          <details>
            <summary>Autres Caracs (CC, CT, F...)</summary>
            <div class="grid-3">
              <label>CC<input type="number" name="CC"></label>
              <label>CT<input type="number" name="CT"></label>
              <label>F<input type="number" name="F"></label>
              <label>I (Autre)<input type="number" name="I" placeholder="Idem Init"></label>
              <label>Ag<input type="number" name="Ag"></label>
              <label>Dex<input type="number" name="Dex"></label>
              <label>Int<input type="number" name="Int"></label>
              <label>FM<input type="number" name="FM"></label>
              <label>Soc<input type="number" name="Soc"></label>
            </div>
          </details>

          <div class="actions">
            <button type="submit" id="btn-submit-form">Ajouter</button>
            <button type="button" id="btn-cancel-edit" class="ghost" style="display:none;">Annuler</button>
            <div class="spacer"></div>
            <button type="button" id="seed-reserve" class="ghost small">Exemple</button>
            <button type="button" id="clear-reserve" class="danger ghost small">Vider</button>
          </div>
        </form>
        <div class="card">
          <div class="row">
            <h3>Liste</h3>
            <div class="spacer"></div>
            <input id="search-reserve" placeholder="Filtrer‚Ä¶" />
          </div>
          <div id="reserve-list" class="list"></div>
        </div>
      </div>
    </section>

    <section id="panel-combat" class="panel" role="region" aria-labelledby="tab-combat">
      
      <div class="controls row card">
        <div class="row">
            <button id="btn-save-file" style="border-color:#3e2e22;">üíæ Sauvegarder</button>
            <button id="btn-load-file" class="ghost">üìÇ Charger</button>
            <input type="file" id="file-input" accept=".json" style="display:none;" />
        </div>
        <div class="spacer"></div>
        <div class="row">
            <button id="btn-import" class="ghost">Imp. R√©serve</button>
            <button id="btn-export" class="ghost">Exp. R√©serve</button>
        </div>
        <div class="spacer"></div>
        <div class="row">
          <button id="btn-start">D√©marrer</button>
          <button id="btn-d100">Lancer d100</button>
          <button id="btn-reset" class="ghost" style="border-color:#b36e3a; color:#b36e3a;">Nettoyer Piste</button>
        </div>
      </div>

      <div class="row meta card">
        <span class="pill" id="pill-round">Round: 0</span>
        <span class="pill" id="pill-turn">Tour: ‚Äì</span>
        <div class="spacer"></div>
        <span class="muted">Glissez-d√©posez les cartes pour organiser l'ordre</span>
      </div>

      <div id="dice-prep-results" class="dice-result-stream card" style="min-height: 60px; margin-bottom: 16px;"></div>

      <div id="init-tracker" class="init-tracker card row"></div>

      <div class="zone-container active-container">
        <h3>üî• Zone Active (Au c≈ìur de l'action)</h3>
        <div id="zone-active" class="drop-zone" data-zone="active">
            <div class="placeholder">Glissez les combattants actifs ici...</div>
        </div>
      </div>

      <div class="zone-container bench-container">
        <h3>üí§ En attente / R√©serve tactique</h3>
        <div id="zone-bench" class="drop-zone" data-zone="bench"></div>
      </div>

      <details class="card" style="margin-top: 16px;">
        <summary class="row" style="cursor:pointer; font-weight:bold; color:#5a1d1d; padding:4px 0;">
          üìú Journal (Cliquer pour afficher/masquer)
        </summary>
        <div class="row" style="margin-top:10px; border-bottom:1px solid #ccc; padding-bottom:8px;">
            <div class="spacer"></div>
            <button id="btn-clear-log" class="ghost">Effacer l'historique</button>
        </div>
        <div id="log" class="log"></div>
      </details>

    </section>

    <section id="panel-rules" class="panel" role="region" aria-labelledby="tab-rules">
        <h2>Aides de Jeu & R√®gles</h2>
        
        <div class="card rule-block">
            <details>
                <summary>Localisation des d√©g√¢ts & Tables Critiques</summary>
                <div class="rule-content">
                    <p>D'apr√®s le <em>Livre de base de Warhammer Fantasy le Jeu de R√¥le (4e √©dition)</em> :</p>
                    
                    <h4>1. La R√®gle de base : Inverser les d√©s</h4>
                    <p>Pour d√©terminer o√π un coup atterrit apr√®s un Test de Corps √† corps ou de Projectiles r√©ussi, vous devez simplement <strong>inverser le r√©sultat des d√©s</strong> de votre jet d'attaque.</p>
                    <p class="example"><em>Exemple :</em> Si vous r√©ussissez votre attaque avec un jet de <strong>23</strong>, vous inversez les chiffres pour obtenir <strong>32</strong>. Si vous obtenez <strong>04</strong>, la localisation est <strong>40</strong>. Si vous obtenez <strong>10</strong> (le 10 comptant pour 0 sur le d√© des unit√©s), l'inverse est <strong>01</strong>.</p>

                    <h4>2. Le Tableau de Localisation</h4>
                    <table class="wfrp-table">
                        <thead><tr><th>Jet</th><th>Localisation</th></tr></thead>
                        <tbody>
                            <tr><td>01 ‚Äì 09</td><td>T√™te</td></tr>
                            <tr><td>10 ‚Äì 24</td><td>Bras gauche (ou bras secondaire)</td></tr>
                            <tr><td>25 ‚Äì 44</td><td>Bras droit (ou bras principal)</td></tr>
                            <tr><td>45 ‚Äì 79</td><td>Corps</td></tr>
                            <tr><td>80 ‚Äì 89</td><td>Jambe gauche</td></tr>
                            <tr><td>90 ‚Äì 00</td><td>Jambe droite</td></tr>
                        </tbody>
                    </table>

                    <h4>3. Exception pour les Coups Critiques</h4>
                    <p>Si votre jet d'attaque est un <strong>Coup Critique</strong> (un succ√®s sur un double, par exemple 11, 22, 33...), la proc√©dure change. Vous n'inversez pas le jet d'attaque. √Ä la place :</p>
                    <ul>
                        <li>Vous lancez un <strong>nouveau 1d100</strong> pour d√©terminer la localisation (en consultant le tableau ci-dessus).</li>
                        <li>Vous lancez un <strong>second 1d100</strong> pour d√©terminer la gravit√© de la blessure sur le Tableau des Critiques correspondant √† cette localisation (voir ci-dessous).</li>
                    </ul>

                    <h4>4. Cas particuliers</h4>
                    <ul>
                        <li><strong>Cr√©atures non-humano√Ødes :</strong> Pour les quadrup√®des, on remplace g√©n√©ralement les bras par les pattes avant et les jambes par les pattes arri√®re.</li>
                        <li><strong>Viser :</strong> Il est possible de viser une localisation pr√©cise, mais cela impose un malus de <strong>-20</strong> au test d'attaque.</li>
                    </ul>

                    <h3 style="margin-top:30px; border-top:2px solid #5a1d1d; padding-top:10px;">Tableaux des Coups Critiques</h3>
                    <p class="muted">G√©n√©r√©s automatiquement par le syst√®me :</p>
                    
                    <details class="nested-details"><summary>üíÄ Critiques √† la T√™te</summary><div id="table-head-crit"></div></details>
                    <details class="nested-details"><summary>üí™ Critiques au Bras</summary><div id="table-arm-crit"></div></details>
                    <details class="nested-details"><summary>üëï Critiques au Corps</summary><div id="table-body-crit"></div></details>
                    <details class="nested-details"><summary>ü¶µ Critiques √† la Jambe</summary><div id="table-leg-crit"></div></details>
                </div>
            </details>
        </div>

        <div class="card rule-block">
            <details>
                <summary>Sant√©, Critiques et Survie</summary>
                <div class="rule-content">
                    <h4>1. Les Blessures et l'√âtat de Sant√©</h4>
                    <ul>
                        <li><strong>Subir des D√©g√¢ts :</strong> D√©g√¢ts de l'arme + DR ‚Äì (Bonus d'Endurance + Points d'Armure) = Blessures perdues.</li>
                        <li><strong>Tomber √† 0 Blessures :</strong> Vous gagnez l'√âtat <strong>√Ä Terre</strong>. Si non soign√© en un nombre de Rounds √©gal au <strong>Bonus d'Endurance</strong>, vous gagnez l'√âtat <strong>Inconscient</strong>.</li>
                        <li><strong>Le Sympt√¥me ¬´ Bless√© ¬ª :</strong> D√©signe un sympt√¥me sp√©cifique de maladie (plaie infect√©e). Emp√™che la r√©cup√©ration de B tant que non trait√©.</li>
                    </ul>

                    <h4>2. Les Coups Critiques</h4>
                    <p><strong>Quand subit-on un Critique ?</strong></p>
                    <ol>
                        <li><strong>Le Double :</strong> L'attaquant r√©ussit son Test avec un double.<br><em>Note : La victime subit le Critique ET les d√©g√¢ts normaux.</em></li>
                        <li><strong>L'Acharnement (0 PV) :</strong> Si la cible est r√©duite √† 0 Blessures, tout coup port√© inflige automatiquement un Critique.</li>
                    </ol>
                    <p><strong>R√©solution :</strong> Lancer 1d100 pour la localisation, puis 1d100 pour la gravit√© (+10 si cible √† 0 PV).</p>

                    <h4>3. La Mort</h4>
                    <ol>
                        <li><strong>R√©sultat Mortel :</strong> Le jet sur le tableau des Critiques indique ¬´ Mort ¬ª.</li>
                        <li><strong>Accumulation :</strong> Si Inconscient √† 0 B et que le nombre de Critiques actifs > Bonus d'Endurance, mort √† la fin du Round.</li>
                    </ol>

                    <h4>4. Comment √âviter ou Att√©nuer</h4>
                    <ul>
                        <li><strong>D√©viation Critique (Sacrifice d'Armure) :</strong> Sacrifier 1 Point d'Armure pour ignorer le Critique (mais subir les d√©g√¢ts).</li>
                        <li><strong>Points de Destin/R√©silience :</strong> Survivre in extremis ou choisir le r√©sultat d'un d√©.</li>
                    </ul>
                </div>
            </details>
        </div>

        <div class="card rule-block">
            <details>
                <summary>La Magie & Lancer un Sort</summary>
                <div class="rule-content">
                    <p>Pour r√©ussir un sort, il faut obtenir un <strong>SR</strong> (Seuil de R√©ussite) sup√©rieur ou √©gal au <strong>NI</strong> (Niveau d'Incantation) du sort.</p>

                    <h4>1. Test de Focalisation (Channeling)</h4>
                    <ul>
                        <li>Un test r√©ussi permet d'accumuler des succ√®s (<strong>Bonus FM + SR</strong> obtenus) utilisables pour le prochain test de Langue Magik.</li>
                        <li>Peut √™tre fait en <strong>Test √©tendu</strong> sur plusieurs rounds jusqu'√† accumuler assez de succ√®s pour lancer le sort √† difficult√© 0.</li>
                    </ul>
                    <p class="example"><em>Exemple :</em> Pour un sort NI 8. Si tu as 52 en FM et 62 en Focalisation. Tu lances 48. SR = 2 (62 vs 48) + Bonus FM (5) = 7 succ√®s accumul√©s. Il te manque 1 succ√®s pour le NI 8.</p>

                    <h4>2. Test de Langue Magik (Lancement)</h4>
                    <ul>
                        <li>Vous devez r√©ussir un test de Langue Magik avec assez de SR pour combler ce qu'il manque au NI du sort.</li>
                        <li><strong>Si succ√®s exc√©dentaires en Focalisation :</strong> Chaque succ√®s "de trop" donne un bonus de <strong>+10</strong> au test de Langue Magik.</li>
                    </ul>

                    <h4>Cas Sp√©ciaux</h4>
                    <ul>
                        <li><strong>Interruption :</strong> Si interrompu pendant une Focalisation √©tendue, faire un Test de <strong>Calme Difficile (-20)</strong>. Si √©chec : perte de succ√®s et jet sur <em>Incantations Imparfaites Mineures</em>.</li>
                        <li><strong>R√©ussite Critique :</strong> (Focalisation ou Langue Magik) Effet positif + jet sur table Mineure.</li>
                        <li><strong>Maladresse (Focalisation) :</strong> Jet sur table <em>Majeure</em>.</li>
                        <li><strong>Maladresse (Langue Magik) :</strong> Echec + Jet sur table Mineure.</li>
                        <li><strong>Magie Sombre :</strong> Un d√© sur un <strong>8</strong> (dizaine ou unit√©) = Jet sur table Mineure.</li>
                    </ul>

                    <h3 style="margin-top:30px; border-top:2px solid #5a1d1d; padding-top:10px;">Tableaux des Incantations Imparfaites</h3>
                    <p class="muted">G√©n√©r√©s automatiquement par le syst√®me :</p>
                    
                    <details class="nested-details">
                        <summary>‚ú® Table Mineure</summary>
                        <div id="table-magic-minor"></div>
                    </details>
                    
                    <details class="nested-details">
                        <summary>üî• Table Majeure</summary>
                        <div id="table-magic-major"></div>
                    </details>
                </div>
            </details>
        </div>

        <div class="card rule-block">
            <details>
                <summary>Psychologie : Peur & Terreur</summary>
                <div class="rule-content">
                    <p>La <strong>Peur</strong> est un Trait Psychologique repr√©sentant une aversion extr√™me. Les cr√©atures poss√®dent un <em>Indice de Peur</em> (ex: Peur 2).</p>

                    <h4>1. Surmonter la Peur</h4>
                    <p>Pour vaincre sa peur, le personnage doit r√©ussir un <strong>Test √âtendu de Calme</strong>.</p>
                    <ul>
                        <li><strong>Objectif :</strong> Cumuler un nombre de DR (Degr√©s de R√©ussite) ‚â• Indice de Peur.</li>
                        <li><strong>Quand :</strong> √Ä la fin de chaque Round (avant ou apr√®s le jet de r√©cup√©ration de l'√©tat Bris√©).</li>
                        <li><strong>Succ√®s :</strong> Une fois le total atteint, vous n'√™tes plus sujet √† la Peur pour le reste de la rencontre.</li>
                    </ul>

                    <h4>2. Les Effets (Tant qu'on a Peur)</h4>
                    <p>Tant que le total de DR requis n'est pas atteint, vous subissez :</p>
                    <ul>
                        <li><strong>Malus d'action :</strong> -1 DR √† tous les Tests li√©s √† la source de la peur (attaque, interaction...).</li>
                        <li><strong>Mouvement restreint :</strong> Impossible de se rapprocher volontairement. Pour forcer sa volont√© afin d'approcher : Test de <em>Calme Interm√©diaire (+0)</em> requis.</li>
                        <li><strong>Risque de panique :</strong> Si la source approche, Test de <em>Calme Interm√©diaire (+0)</em> imm√©diat. En cas d'√©chec : gain de l'√âtat <strong>Bris√©</strong>.</li>
                    </ul>

                    <h4>3. La Terreur (Terror)</h4>
                    <p>Une forme plus intense de la Peur.</p>
                    <ul>
                        <li>√Ä la vue de la cr√©ature : Test de <strong>Calme</strong> imm√©diat.</li>
                        <li><strong>√âchec :</strong> Gagnez un nombre d'√âtats <strong>Bris√©</strong> √©gal √† (Indice Terreur + DR d'√©chec).</li>
                        <li><strong>Ensuite :</strong> La cr√©ature cause la <em>Peur</em> (avec un indice √©gal √† son indice de Terreur) pour le reste du combat.</li>
                    </ul>

                    <div class="example">
                        <strong>Rappel sur l'√âtat Bris√© :</strong><br>
                        Vous devez fuir et vous cacher. Vous subissez -10 √† tous les Tests qui ne servent pas √† fuir. Vous ne pouvez tenter de retirer cet √©tat qu'√† la fin du Round (Test de Calme) si vous n'√™tes pas engag√© au corps √† corps.
                    </div>
                </div>
            </details>
        </div>

        <div class="card rule-block">
            <details>
                <summary>La Corruption & les Mutations</summary>
                <div class="rule-content">
                    <h4>1. Gagner de la Corruption</h4>
                    <p>On accumule de la Corruption par exposition ou choix volontaire.</p>
                    
                    <strong>A. Les Influences Corruptrices</strong>
                    <p>Test de <em>R√©sistance</em> (Physique) ou <em>Calme</em> (Spirituel) requis face au Chaos.</p>
                    <ul>
                        <li><strong>Exposition Mineure</strong> (Ex: voir un d√©mon mineur) : <br>√âchec = +1 Corruption.</li>
                        <li><strong>Exposition Mod√©r√©e</strong> (Ex: malepierre, plusieurs d√©mons) : <br>√âchec = +2 Cor. | Succ√®s minime (0-1 DR) = +1 Cor.</li>
                        <li><strong>Exposition Majeure</strong> (Ex: D√©mon Majeur, pacte) :
                            <ul>
                                <li>√âchec = +3 Cor.</li>
                                <li>Succ√®s minime (0-1 DR) = +2 Cor.</li>
                                <li>Succ√®s (2-3 DR) = +1 Cor.</li>
                                <li>Succ√®s Impressionnant (4+ DR) = 0.</li>
                            </ul>
                        </li>
                    </ul>

                    <strong>B. Les Sombres Pactes</strong>
                    <p>Si vous ratez un test, vous pouvez accepter volontairement <strong>+1 Point de Corruption</strong> pour r√©ussir le jet ou le relancer. (Choix du joueur).</p>

                    <h4>2. Le Seuil & la Mutation</h4>
                    <div class="example"><strong>Seuil de Corruption Max</strong> = Bonus d'Endurance (BE) + Bonus de Force Mentale (BFM).</div>
                    <p>Si votre total d√©passe ce seuil, faites imm√©diatement un <strong>Test de R√©sistance (+0)</strong>.</p>
                    <ul>
                        <li><strong>Succ√®s :</strong> Vous r√©sistez pour l'instant (test √† refaire au prochain gain de corruption).</li>
                        <li><strong>√âchec :</strong> <strong>Mutation !</strong> Vous perdez un nombre de points de Corruption √©gal √† votre BFM et subissez une mutation.</li>
                    </ul>

                    <h4>3. D√©terminer la Mutation</h4>
                    <ol>
                        <li><strong>Le Type :</strong> Lancez 1d100. <br><em>Humains :</em> 01-50 Corps, 51-00 Esprit.<br><em>Elfes :</em> Tendance aux mutations mentales.</li>
                        <li><strong>L'Effet :</strong> Lancez sur le Tableau de Corruption Physique ou Mentale correspondant.</li>
                    </ol>

                    <h4>4. Perdre de la Corruption</h4>
                    <ul>
                        <li><strong>Absolution :</strong> Actes h√©ro√Øques, purification, p√®lerinage (difficile, √† la discr√©tion du MJ).</li>
                        <li><strong>Sombres Murmures :</strong> Le MJ propose de retirer 1 Point si vous commettez un acte vil sugg√©r√© par les Dieux Sombres.</li>
                    </ul>

                    <h4>5. La Fin du Personnage</h4>
                    <p>Si le nombre de mutations d√©passe votre <strong>BE</strong> (pour le physique) ou votre <strong>BFM</strong> (pour le mental), le personnage sombre d√©finitivement et devient un PNJ (Enfant du Chaos).</p>
                </div>
            </details>
        </div>

    </section>

  </main>

  <template id="tpl-actor">
    <div class="actor-card" draggable="true">
      <div class="actor-header row">
        <div class="actor-info">
            <strong class="name">Nom</strong>
            <div class="sub-info">
                <span class="badge clickable init-badge">Init 0</span>
                <span class="badge hp-badge">PV 0</span>
            </div>
            <div class="states" style="margin-top:4px; display:flex; gap:4px; flex-wrap:wrap;"></div>
        </div>
        <div class="actor-actions">
            <button class="icon-btn btn-color" title="Couleur">üé®</button>
            <button class="icon-btn btn-state" title="Bless√©">ü©∏</button>
            <button class="icon-btn danger btn-remove" title="Retirer">‚úï</button>
        </div>
      </div>
      
      <div class="color-palette hidden">
          <div class="color-swatch" style="background:var(--card-bg-default);" data-c="default" title="D√©faut"></div>
          <div class="color-swatch" style="background:var(--card-bg-red);" data-c="red" title="Ennemi"></div>
          <div class="color-swatch" style="background:var(--card-bg-green);" data-c="green" title="Alli√©"></div>
          <div class="color-swatch" style="background:var(--card-bg-blue);" data-c="blue" title="Magie"></div>
          <div class="color-swatch" style="background:var(--card-bg-purple);" data-c="purple" title="Chaos"></div>
          <div class="color-swatch" style="background:var(--card-bg-orange);" data-c="orange" title="Boss"></div>
      </div>

      <div class="actor-controls row">
        <button class="tiny btn-hp-minus">‚àíPV</button>
        <button class="tiny btn-hp-plus">+PV</button>
        <div class="spacer"></div>
      </div>

      <div class="actor-armor muted"></div>

      <div class="actor-dice-section">
        <div class="dice-list"></div>
        <button class="btn-add-dice full-width ghost small">+ Ajouter un jet</button>
      </div>
    </div>
  </template>

  <dialog id="dlg-import">
    <form method="dialog" class="card">
      <h3>Importer depuis la R√©serve</h3>
      <div id="import-list" class="list"></div>
      <div class="row actions">
        <div class="spacer"></div>
        <button value="cancel" class="ghost">Annuler</button>
        <button id="confirm-import">Importer</button>
      </div>
    </form>
  </dialog>

  <!-- üî• FIREBASE D'ABORD -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
    import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD5f_ngBZ3OCXJCjT5M45BqbhkzI_QObLc",
  authDomain: "outil-mj-warhammer.firebaseapp.com",
  projectId: "outil-mj-warhammer",
  storageBucket: "outil-mj-warhammer.firebasestorage.app",
  messagingSenderId: "830494961787",
  appId: "1:830494961787:web:99a9da41da23dd32dc72de"
};

    const app = initializeApp(firebaseConfig);
    const db  = getDatabase(app);

    window.__WFRP_FIREBASE__ = { db, ref, onValue, set };
  </script>

  <!-- ‚öîÔ∏è MJ.JS ENSUITE -->
  <script src="MJ.js"></script>

</body>
</html>
